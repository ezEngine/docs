{
  "conceptual": "\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"3\">When <strong sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"3\">statically linking</strong> libraries into an application the linker will only pull in all the functions and variables that are inside\ntranslation units (CPP files) that somehow get referenced.</p>\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"6\">In EZ a lot of stuff happens automatically (e.g. types register themselves etc.), which is accomplished through global variables\nthat execute code in their constructor during the application's startup phase. This only works when those global variables are actually\nput into the application by the linker. If the linker does not do that, functionality will not work as intended.</p>\n<h2 id=\"mitigation\" sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"10\">Mitigation</h2>\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"12\">Contrary to common believe, the linker is not allowed to optimize away global variables. The only reason for not including a global\nvariable into the final binary, is when the entire translation unit where a variable is defined in, is never referenced and thus never\neven looked at by the linker.</p>\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"16\">To fix this, the StaticLinkUtil inserts macros into each and every file which reference each other. Afterwards every file in a library will\nreference every other file in that same library and thus once a library is used in any way in some program, the entire library\nwill be pulled in and will then work as intended.</p>\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"20\">These references are accomplished through empty functions that are called in one central location (where <code sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"20\">EZ_STATICLINK_LIBRARY</code> is defined),\nthough the code actually never really calls those functions, but it is enough to force the linker to look at all the other files.</p>\n<h2 id=\"usage\" sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"23\">Usage</h2>\n<h3 id=\"configuring-libraries\" sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"25\">Configuring Libraries</h3>\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"27\">Call the StaticLinkUtil with the path to the root folder of some library as the sole command line argument:</p>\n<pre><code class=\"lang-cmd\" sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"29\">StaticLinkUtil.exe &quot;C:\\ezEngine\\Code\\Engine\\Foundation&quot;\n</code></pre>\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"33\">This will iterate over all files below that folder and insert the proper macros.\nAlso make sure that exactly one file in the library contains the text <code sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"34\">EZ_STATICLINK_LIBRARY()</code></p>\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"36\">The parameters and function bodies will be generated automatically and later updated, you do not need to provide more.</p>\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"38\">You only need to run this tool, if you intend to link statically, which is only needed on some platforms. Even then, most new code will work even without always keeping the static link macros up to date, as the issues that it fixes are not too common. If, however, you notice that some types are missing (such as new components) that were just added, you should rerun this tool on the affected libraries.</p>\n<h3 id=\"making-sure-a-plugin-gets-fully-linked\" sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"40\">Making sure a Plugin gets fully linked</h3>\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"42\">When a game uses a plugin, there is often no actual reference to the code inside the plugin from within your application, because most things just work automatically through the <a href=\"~/pages/docs/runtime/reflection-system.md\" sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"42\">reflection system</a>. Thus, just <em sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"42\">statically linking</em> to a plugin, usually doesn't pull in the code and the plugin's features won't show up at runtime.</p>\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"44\">To fix this, you need a reference to the plugin, that ensures that the linker pulls in the code. To do so, use the <code sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"44\">EZ_STATICLINK_PLUGIN</code> macro somewhere in a CPP file of your application, to reference every plugin that you want to use:</p>\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"46\">EZ_STATICLINK_PLUGIN(GameComponentsPlugin);\nEZ_STATICLINK_PLUGIN(JoltPlugin);\nEZ_STATICLINK_PLUGIN(VisualScriptPlugin);\nEZ_STATICLINK_PLUGIN(MyGamePlugin);\n</code></pre>\n<p sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"53\">In case you dynamically link your game, this macro does nothing, so it can stay in the code even then.</p>\n<h2 id=\"see-also\" sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"55\">See Also</h2>\n<ul sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"57\">\n<li sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"57\"><a href=\"~/pages/docs/custom-code/cpp/engine-plugins.md\" sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"57\">Engine Plugins</a></li>\n<li sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"58\"><a href=\"~/pages/docs/build/building-ez.md\" sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"58\">Building ezEngine</a></li>\n</ul>\n",
  "type": "Conceptual",
  "source": {
    "remote": {
      "path": "pages/docs/tools/staticlinkutil.md",
      "branch": "main",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0.0,
    "endLine": 0.0
  },
  "path": "pages/docs/tools/staticlinkutil.md",
  "documentation": {
    "remote": {
      "path": "pages/docs/tools/staticlinkutil.md",
      "branch": "main",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0.0,
    "endLine": 0.0
  },
  "_appFaviconPath": "assets/images/favicon.svg",
  "_appFooter": "Hello",
  "_appLogoPath": "assets/images/EZ-text.svg",
  "_appName": "ezEngine",
  "_appTitle": "ezEngine",
  "_enableGoogleAnalytics": true,
  "_enableNewTab": true,
  "_enableSearch": true,
  "_gitContribute": {
    "repo": "https://github.com/ezEngine/docs-src",
    "branch": "main"
  },
  "_systemKeys": [
    "conceptual",
    "type",
    "source",
    "path",
    "documentation",
    "title",
    "rawTitle",
    "wordCount"
  ],
  "rawTitle": "<h1 id=\"staticlinkutil\" sourcefile=\"pages/docs/tools/staticlinkutil.md\" sourcestartlinenumber=\"1\">StaticLinkUtil</h1>",
  "title": "StaticLinkUtil",
  "wordCount": 518.0,
  "_key": "pages/docs/tools/staticlinkutil.md",
  "_navKey": "~/toc.yml",
  "_navPath": "toc.html",
  "_navRel": "../../../toc.html",
  "_path": "pages/docs/tools/staticlinkutil.html",
  "_rel": "../../../",
  "_tocKey": "~/pages/docs/toc.md",
  "_tocPath": "pages/docs/toc.html",
  "_tocRel": "../toc.html",
  "__global": {
    "namespacesInSubtitle": "Namespaces",
    "classesInSubtitle": "Classes",
    "structsInSubtitle": "Structs",
    "interfacesInSubtitle": "Interfaces",
    "enumsInSubtitle": "Enums",
    "delegatesInSubtitle": "Delegates",
    "constructorsInSubtitle": "Constructors",
    "fieldsInSubtitle": "Fields",
    "propertiesInSubtitle": "Properties",
    "methodsInSubtitle": "Methods",
    "eventsInSubtitle": "Events",
    "operatorsInSubtitle": "Operators",
    "eiisInSubtitle": "Explicit Interface Implementations",
    "functionsInSubtitle": "Functions",
    "variablesInSubtitle": "Variables",
    "typeAliasesInSubtitle": "Type Aliases",
    "membersInSubtitle": "Members",
    "improveThisDoc": "Edit this page",
    "viewSource": "View Source",
    "inheritance": "Inheritance",
    "derived": "Derived",
    "inheritedMembers": "Inherited Members",
    "package": "Package",
    "namespace": "Namespace",
    "assembly": "Assembly",
    "syntax": "Syntax",
    "overrides": "Overrides",
    "implements": "Implements",
    "remarks": "Remarks",
    "examples": "Examples",
    "seealso": "See Also",
    "declaration": "Declaration",
    "parameters": "Parameters",
    "typeParameters": "Type Parameters",
    "type": "Type",
    "name": "Name",
    "description": "Description",
    "returns": "Returns",
    "fieldValue": "Field Value",
    "propertyValue": "Property Value",
    "eventType": "Event Type",
    "variableValue": "Variable Value",
    "typeAliasType": "Type Alias Type",
    "exceptions": "Exceptions",
    "condition": "Condition",
    "extensionMethods": "Extension Methods",
    "note": "Note",
    "warning": "Warning",
    "tip": "Tip",
    "important": "Important",
    "caution": "Caution",
    "tocToggleButton": "Show / Hide Table of Contents",
    "tocFilter": "Filter by title",
    "search": "Search",
    "searchResults": "Search Results for",
    "searchResultsCount": "{count} results for \"{query}\"",
    "searchNoResults": "No results for \"{query}\"",
    "pageFirst": "First",
    "pagePrev": "Previous",
    "pageNext": "Next",
    "pageLast": "Last",
    "inThisArticle": "In this article",
    "nextArticle": "Next",
    "prevArticle": "Previous",
    "backToTop": "Back to top",
    "themeLight": "Light",
    "themeDark": "Dark",
    "themeAuto": "Auto",
    "changeTheme": "Change theme",
    "copy": "Copy",
    "downloadPdf": "Download PDF",
    "_shared": {}
  },
  "_disableToc": false,
  "docurl": "https://github.com/ezEngine/docs-src/blob/main/pages/docs/tools/staticlinkutil.md/#L1"
}