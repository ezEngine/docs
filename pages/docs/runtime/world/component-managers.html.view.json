{
  "conceptual": "\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"3\">A component manager is a <a href=\"~/pages/docs/runtime/world/world-modules.md\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"3\">world module</a> whose purpose it is to create, store and update <a href=\"~/pages/docs/runtime/world/components.md\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"3\">components</a> of a single type. For every component type, there is exactly one component manager to handle that type.</p>\n<h2 id=\"simple-component-managers\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"5\">Simple Component Managers</h2>\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"7\">There are two types of simple component managers:</p>\n<ol sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"9\">\n<li sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"9\">Ones that don't update their components, at all.</li>\n<li sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"10\">Ones that call a simple <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"10\">Update()</code> function once per frame on their components.</li>\n</ol>\n<h3 id=\"no-update-component-manager\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"12\">No Update Component Manager</h3>\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"14\">A component manager that doesn't update its components is declared like this:</p>\n<!-- BEGIN-DOCS-CODE-SNIPPET: component-manager-trivial -->\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"17\">using SendMsgComponentManager = ezComponentManager&lt;class SendMsgComponent, ezBlockStorageType::Compact&gt;;\n</code></pre>\n<!-- END-DOCS-CODE-SNIPPET -->\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"22\">We can simply instantiate the <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"22\">ezComponentManager</code> template and not override anything. Therefore this component manager doesn't have any update function and so the component type that it manages is never updated. That doesn't mean that the component type in question can't do things periodically. In fact the <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"22\">SendMsgComponent</code> does update its state regularly, but it triggers its own update through <a href=\"~/pages/docs/runtime/world/world-messaging.md\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"22\">messaging</a>, which is more efficient for components that only need to wake up every once in a while.</p>\n<h3 id=\"simple-update-component-manager\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"24\">Simple Update Component Manager</h3>\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"26\">Many component types need to be updated every frame, but it is sufficient if the component manager just calls a simple <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"26\">Update()</code> function. Creating a component manager for this scenario looks like this:</p>\n<!-- BEGIN-DOCS-CODE-SNIPPET: component-manager-simple -->\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"29\">using DisplayMsgComponentManager = ezComponentManagerSimple&lt;class DisplayMsgComponent, ezComponentUpdateType::WhenSimulating, ezBlockStorageType::FreeList&gt;;\n</code></pre>\n<!-- END-DOCS-CODE-SNIPPET -->\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"34\">That is literally all. The template <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"34\">ezComponentManagerSimple</code> will take care of the required update function setup. All you need to do then, is to add a (non-virtual) <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"34\">Update()</code> function to the component type, which the component manager will call for all active components each frame.</p>\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"36\">The <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"36\">ezComponentUpdateType</code> option determines whether the component manager will call the <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"36\">Update()</code> function only while the world simulation is running (during a game) or also when it is not running, meaning when editing a scene. For things that should show up even while looking at a paused scene in the editor, you need to use <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"36\">ezComponentUpdateType::Always</code>.</p>\n<h2 id=\"non-simple-component-managers\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"38\">Non-Simple Component Managers</h2>\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"40\">The vast majority of component managers are very simple, but they can also be much more complex. This is mostly the case when the manager needs to synchronize state between components and other systems. Another reason to write a more complex component manager is efficiency. If the manager can track which components need updating and which ones can be ignored, it can skip the update for many components. Or it can update only a number of components each frame to amortize costs.</p>\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"42\">To write a more complex component manager you basically just register your own update functions and then do whatever needs to be done there. See the chapter about <a href=\"~/pages/docs/runtime/world/world-modules.md\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"42\">world modules</a> for how to do that.</p>\n<blockquote sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"44\">\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"44\"><strong sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"44\">Note:</strong></p>\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"46\">When you write your own update function, don't forget to skip <em sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"46\">inactive</em> components. Otherwise deactivating a component or object hierarchy has no effect on your component type. See <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"46\">ezComponentManagerSimple::SimpleUpdate()</code> for an example.</p>\n</blockquote>\n<h2 id=\"component-storage\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"48\">Component Storage</h2>\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"50\">Both component managers above were configured with a <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"50\">ezBlockStorageType</code> option. This determines what happens when a component gets deleted from the world.</p>\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"52\">If the component manager is set to <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"52\">ezBlockStorageType::FreeList</code>, the unused memory block will be put into a free-list and reused when a new component is allocated. In the mean time, the component manager needs to skip these unused memory blocks, every time it iterates over all components. For components that have very short lifespans or are frequently created and destroyed, this can be more efficient. The main reason to use this, though, is for components that can't be relocated in memory. If a component would crash when it is copied to a different memory location, then using the free-list option prevents this.</p>\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"54\">If the component manager is set to <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"54\">ezBlockStorageType::Compact</code>, then an unused memory block will be filled right away by relocating the last valid component to that freed up slot. This prevents memory fragmentation, which wastes performance when iterating over large arrays of components, of which many elements are unused. For components which are mostly long lived, this option gives better performance.</p>\n<p sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"56\">If in doubt, both options are fine. The <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"56\">ezComponentManagerSimple</code> defaults to <code sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"56\">ezBlockStorageType::FreeList</code> as this mode has fewer restrictions.</p>\n<h2 id=\"see-also\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"58\">See Also</h2>\n<ul sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"61\">\n<li sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"61\"><a href=\"~/pages/docs/runtime/world/world-modules.md\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"61\">World Modules</a></li>\n<li sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"62\"><a href=\"~/pages/docs/runtime/world/components.md\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"62\">Components</a></li>\n</ul>\n",
  "type": "Conceptual",
  "source": {
    "remote": {
      "path": "pages/docs/runtime/world/component-managers.md",
      "branch": "main",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0.0,
    "endLine": 0.0
  },
  "path": "pages/docs/runtime/world/component-managers.md",
  "documentation": {
    "remote": {
      "path": "pages/docs/runtime/world/component-managers.md",
      "branch": "main",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0.0,
    "endLine": 0.0
  },
  "_appFaviconPath": "assets/images/favicon.svg",
  "_appFooter": "Hello",
  "_appLogoPath": "assets/images/EZ-text.svg",
  "_appName": "ezEngine",
  "_appTitle": "ezEngine",
  "_enableGoogleAnalytics": true,
  "_enableNewTab": true,
  "_enableSearch": true,
  "_gitContribute": {
    "repo": "https://github.com/ezEngine/docs-src",
    "branch": "main"
  },
  "_systemKeys": [
    "conceptual",
    "type",
    "source",
    "path",
    "documentation",
    "title",
    "rawTitle",
    "wordCount"
  ],
  "rawTitle": "<h1 id=\"component-managers\" sourcefile=\"pages/docs/runtime/world/component-managers.md\" sourcestartlinenumber=\"1\">Component Managers</h1>",
  "title": "Component Managers",
  "wordCount": 675.0,
  "_key": "pages/docs/runtime/world/component-managers.md",
  "_navKey": "~/toc.yml",
  "_navPath": "toc.html",
  "_navRel": "../../../../toc.html",
  "_path": "pages/docs/runtime/world/component-managers.html",
  "_rel": "../../../../",
  "_tocKey": "~/pages/docs/toc.md",
  "_tocPath": "pages/docs/toc.html",
  "_tocRel": "../../toc.html",
  "__global": {
    "namespacesInSubtitle": "Namespaces",
    "classesInSubtitle": "Classes",
    "structsInSubtitle": "Structs",
    "interfacesInSubtitle": "Interfaces",
    "enumsInSubtitle": "Enums",
    "delegatesInSubtitle": "Delegates",
    "constructorsInSubtitle": "Constructors",
    "fieldsInSubtitle": "Fields",
    "propertiesInSubtitle": "Properties",
    "methodsInSubtitle": "Methods",
    "eventsInSubtitle": "Events",
    "operatorsInSubtitle": "Operators",
    "eiisInSubtitle": "Explicit Interface Implementations",
    "functionsInSubtitle": "Functions",
    "variablesInSubtitle": "Variables",
    "typeAliasesInSubtitle": "Type Aliases",
    "membersInSubtitle": "Members",
    "improveThisDoc": "Edit this page",
    "viewSource": "View Source",
    "inheritance": "Inheritance",
    "derived": "Derived",
    "inheritedMembers": "Inherited Members",
    "package": "Package",
    "namespace": "Namespace",
    "assembly": "Assembly",
    "syntax": "Syntax",
    "overrides": "Overrides",
    "implements": "Implements",
    "remarks": "Remarks",
    "examples": "Examples",
    "seealso": "See Also",
    "declaration": "Declaration",
    "parameters": "Parameters",
    "typeParameters": "Type Parameters",
    "type": "Type",
    "name": "Name",
    "description": "Description",
    "returns": "Returns",
    "fieldValue": "Field Value",
    "propertyValue": "Property Value",
    "eventType": "Event Type",
    "variableValue": "Variable Value",
    "typeAliasType": "Type Alias Type",
    "exceptions": "Exceptions",
    "condition": "Condition",
    "extensionMethods": "Extension Methods",
    "note": "Note",
    "warning": "Warning",
    "tip": "Tip",
    "important": "Important",
    "caution": "Caution",
    "tocToggleButton": "Show / Hide Table of Contents",
    "tocFilter": "Filter by title",
    "search": "Search",
    "searchResults": "Search Results for",
    "searchResultsCount": "{count} results for \"{query}\"",
    "searchNoResults": "No results for \"{query}\"",
    "pageFirst": "First",
    "pagePrev": "Previous",
    "pageNext": "Next",
    "pageLast": "Last",
    "inThisArticle": "In this article",
    "nextArticle": "Next",
    "prevArticle": "Previous",
    "backToTop": "Back to top",
    "themeLight": "Light",
    "themeDark": "Dark",
    "themeAuto": "Auto",
    "changeTheme": "Change theme",
    "copy": "Copy",
    "downloadPdf": "Download PDF",
    "_shared": {}
  },
  "_disableToc": false,
  "docurl": "https://github.com/ezEngine/docs-src/blob/main/pages/docs/runtime/world/component-managers.md/#L1"
}