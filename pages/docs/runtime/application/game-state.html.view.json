{
  "conceptual": "\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"3\">Most game code is implemented by writing custom <a href=\"~/pages/docs/runtime/world/components.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"3\">components</a>. However, components always work in the context of an object, be it a single <a href=\"~/pages/docs/runtime/world/game-objects.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"3\">game object</a> or an entire <a href=\"~/pages/docs/prefabs/prefabs-overview.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"3\">prefab</a>. The most that a single component can be responsible for, is to do high level logic for a level, by acting as a <a href=\"~/pages/docs/runtime/world/world-messaging.md#global-event-message-handlers\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"3\">global message handler</a>.</p>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"5\">However, for a full game you need a layer of control that is outside the world, where you can do logic like what level to load, what to do when the player dies or reaches their goal, how to display a main menu for the game settings and level selection, and so on. Most of these things would be possible with world components alone, but it would be cumbersome. Especially switching from one level to another is difficult, if some of your overall game logic has to be transitioned as well.</p>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"7\"><em sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"7\">Game States</em> are this extra layer. A game state sits between the <a href=\"~/pages/docs/runtime/application/application.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"7\">application</a> layer and the <a href=\"~/pages/docs/runtime/world/worlds.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"7\">world</a>.</p>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"9\"><img src=\"~/pages/docs/runtime/application/media/code-hierarchy.png\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"9\" alt=\"Code Hierarchy\"></p>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"11\">A game state is in so far optional, in that the engine will create an instance of <code sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"11\">ezFallbackGameState</code>, if no custom game state is available. The diagram above shows, that the editor skips the game state in <em sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"11\">simulate mode</em>. In practice that means that the editor will not allocate any game state when the scene is being edited or only simulated. Only when you enter <em sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"11\">play-the-game mode</em>, will it create a game state, which can then take over full control for the windows, input and the main camera.</p>\n<h2 id=\"game-state-responsibilities\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"13\">Game State Responsibilities</h2>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"15\">The typical things that a game state controls are:</p>\n<ul sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"17\">\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"17\">Spawning one or multiple windows</li>\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"18\">Setting up the main render pipeline</li>\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"19\">Creating a world and loading a scene into it\n<ul sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"20\">\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"20\">Unless it's run in the editor, where it is handed an existing world</li>\n</ul>\n</li>\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"21\">Setting up input devices and bindings</li>\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"22\">Processing main input (not component specific input)</li>\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"23\">Setting up and controlling the main camera</li>\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"24\">Spawning the player prefab</li>\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"25\">Displaying game UI</li>\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"26\">Providing a main menu</li>\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"27\">Saving and restoring global state (progression, high-scores, etc)</li>\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"28\">Switching between levels</li>\n</ul>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"30\">For example when you have a <a href=\"~/pages/docs/gameplay/player-start-point.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"30\">player start point component</a> in a scene, the component itself doesn't do anything, it just holds some data. Instead, when you enter play-the-game mode, the active game state <em sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"30\">can</em> (but is not required to) use the information from these components to spawn a player prefab.</p>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"32\">Similarly, most scenes have a camera component whose usage hint is set to 'Main Camera' (this may be part of the player prefab). This camera defines what part of the scene will be shown on screen. At least that's how it appears. In reality it is the game state that controls the camera for the main render target. It's simply a feature of the game state, that it searches the world for an appropriate camera component and applies that to the main camera. If it doesn't find any such camera component, it may not do anything. Though the <code sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"32\">ezFallbackGameState</code> provides simple WASD fly-camera controls and lets you cycle through the different camera components in a scene using <code sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"32\">Page Up</code> and <code sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"32\">Page Down</code>.</p>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"34\">As you can see, by implementing a custom game state, you can gain control over many things that otherwise appear to be built-in.</p>\n<h2 id=\"game-state-instantiation\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"36\">Game State Instantiation</h2>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"38\">It is the responsibility of the <code sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"38\">ezGameApplication</code> to instantiate a game state. By default this is done right at application startup, but if you write your own <a href=\"~/pages/docs/runtime/application/application.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"38\">application</a> you could handle this differently. For example the editor only instantiates the game state for play-the-game mode.</p>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"40\">The application knows what game states are available through the <a href=\"~/pages/docs/runtime/reflection-system.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"40\">reflection information</a>. When a game state is needed, it instantiates either your custom game state, or a fallback one. So your game plugin should only contain a single custom game state.</p>\n<h2 id=\"sample-game-state\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"42\">Sample Game State</h2>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"44\">For an example game state have a look at the <a href=\"~/pages/samples/sample-game-plugin.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"44\">Sample Game Plugin</a>. The game state in the sample derives from <code sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"44\">ezFallbackGameState</code> to benefit from its utilities, such as the default fly camera. In fact, it is a good idea to look at the source of <code sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"44\">ezFallbackGameState</code> as an example, as well.</p>\n<p sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"46\">For all the details, read the <a href=\"~/pages/docs/api-docs.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"46\">API Docs</a> for <code sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"46\">ezGameState</code>.</p>\n<h2 id=\"see-also\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"48\">See Also</h2>\n<ul sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"50\">\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"50\"><a href=\"~/pages/docs/custom-code/custom-code-overview.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"50\">Custom Code</a></li>\n<li sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"51\"><a href=\"~/pages/docs/runtime/application/application.md\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"51\">Application</a></li>\n</ul>\n",
  "type": "Conceptual",
  "source": {
    "remote": {
      "path": "pages/docs/runtime/application/game-state.md",
      "branch": "main",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0,
    "endLine": 0
  },
  "path": "pages/docs/runtime/application/game-state.md",
  "documentation": {
    "remote": {
      "path": "pages/docs/runtime/application/game-state.md",
      "branch": "main",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0,
    "endLine": 0
  },
  "_appFaviconPath": "assets/images/favicon.svg",
  "_appFooter": "Hello",
  "_appLogoPath": "assets/images/EZ-text.svg",
  "_appName": "ezEngine",
  "_appTitle": "ezEngine",
  "_enableGoogleAnalytics": true,
  "_enableNewTab": true,
  "_enableSearch": true,
  "_gitContribute": {
    "repo": "https://github.com/ezEngine/docs-src",
    "branch": "main"
  },
  "_systemKeys": [
    "conceptual",
    "type",
    "source",
    "path",
    "documentation",
    "title",
    "rawTitle",
    "wordCount"
  ],
  "rawTitle": "<h1 id=\"game-states\" sourcefile=\"pages/docs/runtime/application/game-state.md\" sourcestartlinenumber=\"1\">Game States</h1>",
  "title": "Game States",
  "wordCount": 693,
  "_key": "pages/docs/runtime/application/game-state.md",
  "_navKey": "~/toc.yml",
  "_navPath": "toc.html",
  "_navRel": "../../../../toc.html",
  "_path": "pages/docs/runtime/application/game-state.html",
  "_rel": "../../../../",
  "_tocKey": "~/pages/docs/toc.md",
  "_tocPath": "pages/docs/toc.html",
  "_tocRel": "../../toc.html",
  "__global": {
    "namespacesInSubtitle": "Namespaces",
    "classesInSubtitle": "Classes",
    "structsInSubtitle": "Structs",
    "interfacesInSubtitle": "Interfaces",
    "enumsInSubtitle": "Enums",
    "delegatesInSubtitle": "Delegates",
    "constructorsInSubtitle": "Constructors",
    "fieldsInSubtitle": "Fields",
    "propertiesInSubtitle": "Properties",
    "methodsInSubtitle": "Methods",
    "eventsInSubtitle": "Events",
    "operatorsInSubtitle": "Operators",
    "eiisInSubtitle": "Explicit Interface Implementations",
    "functionsInSubtitle": "Functions",
    "variablesInSubtitle": "Variables",
    "typeAliasesInSubtitle": "Type Aliases",
    "membersInSubtitle": "Members",
    "improveThisDoc": "Edit this page",
    "viewSource": "View Source",
    "inheritance": "Inheritance",
    "derived": "Derived",
    "inheritedMembers": "Inherited Members",
    "package": "Package",
    "namespace": "Namespace",
    "assembly": "Assembly",
    "syntax": "Syntax",
    "overrides": "Overrides",
    "implements": "Implements",
    "remarks": "Remarks",
    "examples": "Examples",
    "seealso": "See Also",
    "declaration": "Declaration",
    "parameters": "Parameters",
    "typeParameters": "Type Parameters",
    "type": "Type",
    "name": "Name",
    "description": "Description",
    "returns": "Returns",
    "fieldValue": "Field Value",
    "propertyValue": "Property Value",
    "eventType": "Event Type",
    "variableValue": "Variable Value",
    "typeAliasType": "Type Alias Type",
    "exceptions": "Exceptions",
    "condition": "Condition",
    "extensionMethods": "Extension Methods",
    "note": "Note",
    "warning": "Warning",
    "tip": "Tip",
    "important": "Important",
    "caution": "Caution",
    "tocToggleButton": "Show / Hide Table of Contents",
    "tocFilter": "Filter by title",
    "search": "Search",
    "searchResults": "Search Results for",
    "searchResultsCount": "{count} results for \"{query}\"",
    "searchNoResults": "No results for \"{query}\"",
    "pageFirst": "First",
    "pagePrev": "Previous",
    "pageNext": "Next",
    "pageLast": "Last",
    "inThisArticle": "In this article",
    "nextArticle": "Next",
    "prevArticle": "Previous",
    "backToTop": "Back to top",
    "themeLight": "Light",
    "themeDark": "Dark",
    "themeAuto": "Auto",
    "changeTheme": "Change theme",
    "copy": "Copy",
    "downloadPdf": "Download PDF",
    "_shared": {}
  },
  "_disableToc": false,
  "docurl": "https://github.com/ezEngine/docs-src/blob/main/pages/docs/runtime/application/game-state.md/#L1"
}