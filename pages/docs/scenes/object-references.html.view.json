{
  "conceptual": "\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"3\">Some components are supposed to work with other objects, but those objects are not in their hierarchy as a parent or child node, but may instead be any arbitrary object that the user wants to select. Such use cases are supported through <em sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"3\">object references</em>, meaning that a component can have properties that store a reference to another object (within the same scene or prefab document).</p>\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"5\">A very basic example is the <a href=\"~/pages/docs/debugging/components/draw-line-component.md\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"5\">DrawLineToObject component</a>, which literally just draws a line between itself and a referenced object.</p>\n<h2 id=\"object-reference-ui\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"7\">Object Reference UI</h2>\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"9\">In the editor UI an object reference property looks like this:</p>\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"11\"><img src=\"~/pages/docs/scenes/media/object-reference.png\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"11\" alt=\"Object Reference\"></p>\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"13\">Left-clicking the arrow button will switch to object selection mode and turn the mouse cursor into a crosshair. Click on any object in the 3D viewport to select it as the referenced object.</p>\n<blockquote sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"15\">\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"15\"><strong sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"15\">Important:</strong></p>\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"17\">You can also right-click the arrow button to bring up a menu with additional options.</p>\n</blockquote>\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"19\"><img src=\"~/pages/docs/scenes/media/object-reference-menu.png\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"19\" alt=\"Object Reference Menu\"></p>\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"21\">Be aware that you can right click any node in the tree view or in the viewport and select <code sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"21\">Copy Object Reference</code>, then use <code sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"21\">Paste Object Reference</code> in the menu above to set the reference. This is sometimes easier than clicking on an object in the viewport.</p>\n<h2 id=\"object-references-in-custom-components\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"23\">Object References in Custom Components</h2>\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"25\">When you create a <a href=\"~/pages/docs/custom-code/cpp/custom-cpp-component.md\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"25\">custom component</a> you may want to have an object reference property. The easiest way to achieve this, is to get inspiration from existing code, such as <code sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"25\">ezLineToComponent</code>.</p>\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"27\">Object references are a 'non-trivial' (complicated) feature. They need to be remapped within instances of <a href=\"~/pages/docs/prefabs/prefabs-overview.md\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"27\">prefabs</a>, they work differently in the editor and the runtime, and it is possible to use them as <a href=\"~/pages/docs/scenes/exposed-parameters.md\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"27\">exposed parameters</a>. Consequently, you have to stick to a certain pattern to make them work.</p>\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"29\">Expose them as a string property and use custom functions as accessors. Also decorate them with <code sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"29\">ezGameObjectReferenceAttribute</code>:</p>\n<!-- BEGIN-DOCS-CODE-SNIPPET: object-reference-property -->\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"32\">EZ_ACCESSOR_PROPERTY(&quot;Target&quot;, GetLineToTargetGuid, SetLineToTargetGuid)-&gt;AddAttributes(new ezGameObjectReferenceAttribute()),\n</code></pre>\n<!-- END-DOCS-CODE-SNIPPET -->\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"37\">The 'getter' accessor function is actually never called, but since <code sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"37\">EZ_ACCESSOR_PROPERTY</code> expects a valid function, you need to have at least one dummy function that you can pass in. In your 'setter' function you need to query a 'reference resolver' from the world and use that to map the string to an actual game object handle. Here you also need to pass in information about the component and the property. This is mainly needed by the editor to handle undo/redo correctly.</p>\n<!-- BEGIN-DOCS-CODE-SNIPPET: object-reference-funcs -->\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"40\">void ezLineToComponent::SetLineToTargetGuid(const char* szTargetGuid)\n{\n  auto resolver = GetWorld()-&gt;GetGameObjectReferenceResolver();\n\n  if (resolver.IsValid())\n  {\n    // tell the resolver our component handle and the name of the property for the object reference\n    m_hTargetObject = resolver(szTargetGuid, GetHandle(), &quot;Target&quot;);\n  }\n}\n\nconst char* ezLineToComponent::GetLineToTargetGuid() const\n{\n  // this function is never called\n  return nullptr;\n}\n</code></pre>\n<!-- END-DOCS-CODE-SNIPPET -->\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"60\">Finally, during component serialization you just use <code sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"60\">ezWorldWriter::WriteGameObjectHandle()</code> and <code sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"60\">ezWorldReader::ReadGameObjectHandle()</code> to save and restore the actual game object handle.</p>\n<h2 id=\"limitations\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"62\">Limitations</h2>\n<p sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"64\">Object references are not possible across <a href=\"~/pages/docs/scenes/scene-layers.md\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"64\">scene layers</a>.</p>\n<h2 id=\"see-also\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"66\">See Also</h2>\n<ul sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"68\">\n<li sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"68\"><a href=\"~/pages/docs/scenes/scene-editing.md\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"68\">Scene Editing</a></li>\n<li sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"69\"><a href=\"~/pages/docs/scenes/scene-layers.md\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"69\">Scene Layers</a></li>\n</ul>\n",
  "type": "Conceptual",
  "source": {
    "remote": {
      "path": "pages/docs/scenes/object-references.md",
      "branch": "docfx_update",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0.0,
    "endLine": 0.0
  },
  "path": "pages/docs/scenes/object-references.md",
  "documentation": {
    "remote": {
      "path": "pages/docs/scenes/object-references.md",
      "branch": "docfx_update",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0.0,
    "endLine": 0.0
  },
  "_appFaviconPath": "assets/images/favicon.svg",
  "_appFooter": "Hello",
  "_appLogoPath": "assets/images/EZ-text.svg",
  "_appName": "ezEngine",
  "_appTitle": "ezEngine",
  "_enableGoogleAnalytics": true,
  "_enableNewTab": true,
  "_enableSearch": true,
  "_gitContribute": {
    "repo": "https://github.com/ezEngine/docs-src",
    "branch": "main"
  },
  "_systemKeys": [
    "conceptual",
    "type",
    "source",
    "path",
    "documentation",
    "title",
    "rawTitle",
    "wordCount"
  ],
  "rawTitle": "<h1 id=\"object-references\" sourcefile=\"pages/docs/scenes/object-references.md\" sourcestartlinenumber=\"1\">Object References</h1>",
  "title": "Object References",
  "wordCount": 465.0,
  "_key": "pages/docs/scenes/object-references.md",
  "_navKey": "~/toc.yml",
  "_navPath": "toc.html",
  "_navRel": "../../../toc.html",
  "_path": "pages/docs/scenes/object-references.html",
  "_rel": "../../../",
  "_tocKey": "~/pages/docs/toc.md",
  "_tocPath": "pages/docs/toc.html",
  "_tocRel": "../toc.html",
  "__global": {
    "namespacesInSubtitle": "Namespaces",
    "classesInSubtitle": "Classes",
    "structsInSubtitle": "Structs",
    "interfacesInSubtitle": "Interfaces",
    "enumsInSubtitle": "Enums",
    "delegatesInSubtitle": "Delegates",
    "constructorsInSubtitle": "Constructors",
    "fieldsInSubtitle": "Fields",
    "propertiesInSubtitle": "Properties",
    "methodsInSubtitle": "Methods",
    "eventsInSubtitle": "Events",
    "operatorsInSubtitle": "Operators",
    "eiisInSubtitle": "Explicit Interface Implementations",
    "functionsInSubtitle": "Functions",
    "variablesInSubtitle": "Variables",
    "typeAliasesInSubtitle": "Type Aliases",
    "membersInSubtitle": "Members",
    "improveThisDoc": "Edit this page",
    "viewSource": "View Source",
    "inheritance": "Inheritance",
    "derived": "Derived",
    "inheritedMembers": "Inherited Members",
    "package": "Package",
    "namespace": "Namespace",
    "assembly": "Assembly",
    "syntax": "Syntax",
    "overrides": "Overrides",
    "implements": "Implements",
    "remarks": "Remarks",
    "examples": "Examples",
    "seealso": "See Also",
    "declaration": "Declaration",
    "parameters": "Parameters",
    "typeParameters": "Type Parameters",
    "type": "Type",
    "name": "Name",
    "description": "Description",
    "returns": "Returns",
    "fieldValue": "Field Value",
    "propertyValue": "Property Value",
    "eventType": "Event Type",
    "variableValue": "Variable Value",
    "typeAliasType": "Type Alias Type",
    "exceptions": "Exceptions",
    "condition": "Condition",
    "extensionMethods": "Extension Methods",
    "note": "Note",
    "warning": "Warning",
    "tip": "Tip",
    "important": "Important",
    "caution": "Caution",
    "tocToggleButton": "Show / Hide Table of Contents",
    "tocFilter": "Filter by title",
    "search": "Search",
    "searchResults": "Search Results for",
    "searchResultsCount": "{count} results for \"{query}\"",
    "searchNoResults": "No results for \"{query}\"",
    "pageFirst": "First",
    "pagePrev": "Previous",
    "pageNext": "Next",
    "pageLast": "Last",
    "inThisArticle": "In this article",
    "nextArticle": "Next",
    "prevArticle": "Previous",
    "backToTop": "Back to top",
    "themeLight": "Light",
    "themeDark": "Dark",
    "themeAuto": "Auto",
    "changeTheme": "Change theme",
    "copy": "Copy",
    "downloadPdf": "Download PDF",
    "_shared": {}
  },
  "_disableToc": false,
  "docurl": "https://github.com/ezEngine/docs-src/blob/main/pages/docs/scenes/object-references.md/#L1"
}