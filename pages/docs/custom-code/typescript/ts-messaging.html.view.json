{
  "conceptual": "\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"3\">TypeScript components can both send and receive messages. The way messages can be sent, posted and received, and how messages are routed is identical to the behavior on the C++ side. Please read the chapter about <a href=\"~/pages/docs/runtime/world/world-messaging.md\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"3\">messaging</a> to familiarize yourself with the general concepts.</p>\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"5\">The main difference in TypeScript is, that messages that have been declared in C++ can be sent and received in TypeScript, but messages that have been declared in TypeScript can only be sent and received by TypeScript code.</p>\n<h2 id=\"sending-messages\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"7\">Sending Messages</h2>\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"9\">You can either send a message directly to a specific component (through <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"9\">ez.Component</code>) or to a game object hierarchy (through <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"9\">ez.GameObject</code>). Contrary to the C++ API, there are no functions on <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"9\">ez.World</code> to send messages.</p>\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"11\">The <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"11\">SendMessage()</code> functions on <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"11\">ez.Component</code> and <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"11\">ez.GameObject</code> take an additional boolean parameter <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"11\">expectResultData</code>. If this is set to true, that means that the sender of the message expects the receiver(s) to write back result data into the sent message, and intends to read those results afterwards. If it is set to false, the message sender does either not expect result data in the message, or doesn't intend to read it. This is an optimization, if you need any result data, set the parameter to true, which means additional work is necessary to synchronize the message back to the caller. Otherwise keep this set to the default value (false).</p>\n<h3 id=\"sending-event-messages\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"13\">Sending Event Messages</h3>\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"15\">TypeScript components can raise <em sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"15\">event messages</em> on themselves through <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"15\">ez.TypescriptComponent.BroadcastEvent()</code>.</p>\n<blockquote sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"17\">\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"17\"><strong sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"17\">Note:</strong></p>\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"19\">At the moment TypeScript components can't raise event messages on other components or game objects.</p>\n</blockquote>\n<h2 id=\"handling-messages\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"21\">Handling Messages</h2>\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"23\">To handle messages of a specific type, a component needs a function that takes that message type as its only parameter, and it must register that function as a message handler:</p>\n<pre><code class=\"lang-typescript\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"25\">static RegisterMessageHandlers()\n{\n    ez.TypescriptComponent.RegisterMessageHandler(ez.MsgSetColor, &quot;OnMsgSetColor&quot;);\n}\n\nOnMsgSetColor(msg: ez.MsgSetColor): void\n{\n    ez.Log.Info(&quot;MsgSetColor: &quot; + msg.Color.r + &quot;, &quot; + msg.Color.g + &quot;, &quot; + msg.Color.b + &quot;, &quot; + msg.Color.a);\n}\n</code></pre>\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"37\">The static function <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"37\">RegisterMessageHandlers()</code> is the only place where your code may call <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"37\">ez.TypescriptComponent.RegisterMessageHandler()</code>. It is an error to call this from anywhere else.</p>\n<h2 id=\"declaring-a-message-in-typescript\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"39\">Declaring a Message in TypeScript</h2>\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"41\">You declare a custom message in TypeScript by extending <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"41\">ez.Message</code>:</p>\n<pre><code class=\"lang-typescript\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"43\">export class MsgShowText extends ez.Message {\n\n    EZ_DECLARE_MESSAGE_TYPE;\n    \n    text: string;\n}\n</code></pre>\n<blockquote sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"52\">\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"52\"><strong sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"52\">Important:</strong></p>\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"54\">It is vital to insert <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"54\">EZ_DECLARE_MESSAGE_TYPE;</code> into the body of the message to make it work.</p>\n</blockquote>\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"56\">If you need to send a message from one component and handle it in other component types, you should put the message declaration into a separate <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"56\">.ts</code> file and <code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"56\">import</code> that file from both component files. See <a href=\"~/pages/docs/custom-code/typescript/ts-api.md#importing-files-require\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"56\">Importing Files (<code sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"56\">require</code>)</a> for details.</p>\n<h3 id=\"declaring-event-messages\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"58\">Declaring Event Messages</h3>\n<blockquote sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"60\">\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"60\"><strong sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"60\">Note:</strong></p>\n<p sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"62\">At the moment it is <strong sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"62\">not supported to declare event messages</strong>.</p>\n</blockquote>\n<h2 id=\"see-also\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"64\">See Also</h2>\n<ul sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"67\">\n<li sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"67\"><a href=\"~/pages/docs/custom-code/typescript/ts-api.md\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"67\">TypeScript API</a></li>\n<li sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"68\"><a href=\"~/pages/docs/custom-code/typescript/custom-ts-components.md\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"68\">Custom Components with TypeScript</a></li>\n</ul>\n",
  "type": "Conceptual",
  "source": {
    "remote": {
      "path": "pages/docs/custom-code/typescript/ts-messaging.md",
      "branch": "docfx_update",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0.0,
    "endLine": 0.0
  },
  "path": "pages/docs/custom-code/typescript/ts-messaging.md",
  "documentation": {
    "remote": {
      "path": "pages/docs/custom-code/typescript/ts-messaging.md",
      "branch": "docfx_update",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0.0,
    "endLine": 0.0
  },
  "_appFaviconPath": "assets/images/favicon.svg",
  "_appFooter": "Hello",
  "_appLogoPath": "assets/images/EZ-text.svg",
  "_appName": "ezEngine",
  "_appTitle": "ezEngine",
  "_enableGoogleAnalytics": true,
  "_enableNewTab": true,
  "_enableSearch": true,
  "_gitContribute": {
    "repo": "https://github.com/ezEngine/docs-src",
    "branch": "main"
  },
  "_systemKeys": [
    "conceptual",
    "type",
    "source",
    "path",
    "documentation",
    "title",
    "rawTitle",
    "wordCount"
  ],
  "rawTitle": "<h1 id=\"messaging-in-typescript-code\" sourcefile=\"pages/docs/custom-code/typescript/ts-messaging.md\" sourcestartlinenumber=\"1\">Messaging in TypeScript Code</h1>",
  "title": "Messaging in TypeScript Code",
  "wordCount": 450.0,
  "_key": "pages/docs/custom-code/typescript/ts-messaging.md",
  "_navKey": "~/toc.yml",
  "_navPath": "toc.html",
  "_navRel": "../../../../toc.html",
  "_path": "pages/docs/custom-code/typescript/ts-messaging.html",
  "_rel": "../../../../",
  "_tocKey": "~/pages/docs/toc.md",
  "_tocPath": "pages/docs/toc.html",
  "_tocRel": "../../toc.html",
  "__global": {
    "namespacesInSubtitle": "Namespaces",
    "classesInSubtitle": "Classes",
    "structsInSubtitle": "Structs",
    "interfacesInSubtitle": "Interfaces",
    "enumsInSubtitle": "Enums",
    "delegatesInSubtitle": "Delegates",
    "constructorsInSubtitle": "Constructors",
    "fieldsInSubtitle": "Fields",
    "propertiesInSubtitle": "Properties",
    "methodsInSubtitle": "Methods",
    "eventsInSubtitle": "Events",
    "operatorsInSubtitle": "Operators",
    "eiisInSubtitle": "Explicit Interface Implementations",
    "functionsInSubtitle": "Functions",
    "variablesInSubtitle": "Variables",
    "typeAliasesInSubtitle": "Type Aliases",
    "membersInSubtitle": "Members",
    "improveThisDoc": "Edit this page",
    "viewSource": "View Source",
    "inheritance": "Inheritance",
    "derived": "Derived",
    "inheritedMembers": "Inherited Members",
    "package": "Package",
    "namespace": "Namespace",
    "assembly": "Assembly",
    "syntax": "Syntax",
    "overrides": "Overrides",
    "implements": "Implements",
    "remarks": "Remarks",
    "examples": "Examples",
    "seealso": "See Also",
    "declaration": "Declaration",
    "parameters": "Parameters",
    "typeParameters": "Type Parameters",
    "type": "Type",
    "name": "Name",
    "description": "Description",
    "returns": "Returns",
    "fieldValue": "Field Value",
    "propertyValue": "Property Value",
    "eventType": "Event Type",
    "variableValue": "Variable Value",
    "typeAliasType": "Type Alias Type",
    "exceptions": "Exceptions",
    "condition": "Condition",
    "extensionMethods": "Extension Methods",
    "note": "Note",
    "warning": "Warning",
    "tip": "Tip",
    "important": "Important",
    "caution": "Caution",
    "tocToggleButton": "Show / Hide Table of Contents",
    "tocFilter": "Filter by title",
    "search": "Search",
    "searchResults": "Search Results for",
    "searchResultsCount": "{count} results for \"{query}\"",
    "searchNoResults": "No results for \"{query}\"",
    "pageFirst": "First",
    "pagePrev": "Previous",
    "pageNext": "Next",
    "pageLast": "Last",
    "inThisArticle": "In this article",
    "nextArticle": "Next",
    "prevArticle": "Previous",
    "backToTop": "Back to top",
    "themeLight": "Light",
    "themeDark": "Dark",
    "themeAuto": "Auto",
    "changeTheme": "Change theme",
    "copy": "Copy",
    "downloadPdf": "Download PDF",
    "_shared": {}
  },
  "_disableToc": false,
  "docurl": "https://github.com/ezEngine/docs-src/blob/main/pages/docs/custom-code/typescript/ts-messaging.md/#L1"
}