{
  "conceptual": "\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"3\">Shaders are files with the <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"3\">.ezShader</code> extension. These files not only provide the HLSL code for each shader stage used, but also the complete render state used when drawing with this shader. Several permutations of the same shader can exist. Permutations can impact the render state or affect the HLSL source code. Thus, one shader file can produce several outputs.</p>\n<h2 id=\"getting-started\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"5\">Getting Started</h2>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"7\">This page describes the structure of a shader file in ezEngine. If you want to write your own shader, we highly suggest to start from a <a href=\"~/pages/docs/graphics/shaders/shader-templates.md\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"7\">shader template</a>, as it makes setting up a basic shader significantly easier.</p>\n<h2 id=\"shader-sections\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"9\">Shader Sections</h2>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"11\">Each shader is made up of several <strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"11\">sections</strong>. Not all sections need to be defined as most have a default state. Here is a very simple shader:</p>\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"13\">[PLATFORMS]\nALL\n\n[PERMUTATIONS]\n\n[RENDERSTATE]\n\n[SHADER]\n\ncbuffer PerObject : register(b1)\n{\n  float4x4 mvp : packoffset(c0);\n};\n\nstruct VS_IN\n{\n  float3 pos : POSITION;\n  float2 texcoord0 : TEXCOORD0;\n};\n\nstruct VS_OUT\n{\n  float4 pos : SV_Position;\n  float2 texcoord0 : TEXCOORD0;\n};\n\ntypedef VS_OUT PS_IN;\n\n[VERTEXSHADER]\nVS_OUT main(VS_IN Input)\n{\n  VS_OUT RetVal;\n  RetVal.pos = mul(mvp, float4(Input.pos, 1.0));\n  RetVal.texcoord0 = Input.texcoord0;\n  return RetVal;\n}\n\n[PIXELSHADER]\nTexture2D DiffuseTexture;\nSamplerState PointClampSampler;\n\nfloat4 main(PS_IN Input) : SV_Target\n{\n  return DiffuseTexture.Sample(PointClampSampler, Input.texcoord0);\n}\n</code></pre>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"61\">The following sections are supported:</p>\n<h3 id=\"platforms\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"63\">PLATFORMS</h3>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"65\">The <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"65\">PLATFORMS</code> section lists the shader platforms that are supported by this shader and for which the shader should be compiled. Currently, these values are supported:</p>\n<ul sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"67\">\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"67\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"67\">ALL</code>: The shader is supported on all platforms.</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"68\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"68\">DEBUG</code>: If set, the shader is not optimized and contains debug information to allow stepping through it in tools like RenderDoc.</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"69\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"69\">VULKAN</code>: The shader will be compiled as SPIRV code for the Vulkan renderer.</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"70\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"70\">DX11_SM50</code>: DX11 feature set. Default platform used by the DX11 renderer.</li>\n</ul>\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"72\">[PLATFORMS]\nALL\nDEBUG\n</code></pre>\n<h3 id=\"permutations\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"78\">PERMUTATIONS</h3>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"80\">The <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"80\">PERMUTATIONS</code> section defines permutation variables which allow for modification of the shader code. Each variable is exposed as a preprocessor variable, allowing for various sections of the shader to be modified via preprocessor blocks.</p>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"82\">The values of these permutation variables are defined by the engine / material and the entire system is explained in detail in the dedicated <a href=\"~/pages/docs/graphics/shaders/shader-permutation-variables.md\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"82\">shader permutation variables</a> page.</p>\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"84\">[PERMUTATIONS]\nALPHATEST\nCAMERA_MODE = CAMERA_MODE_PERSPECTIVE\n</code></pre>\n<h3 id=\"material-sections\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"90\">Material Sections</h3>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"92\">Material shaders are special and require further sections to expose parameters to the engine and editor.</p>\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"94\">[MATERIALCONSTANTS]\nCOLOR4F(BaseColor);\n\n[MATERIALPARAMETER]\nPermutation BLEND_MODE;\nColor BaseColor @Default(Color(1.0, 1.0, 1.0));\nTexture2D BaseTexture @Default(&quot;{ ac614d7c-2b31-4a7b-aa0c-c5d8200b7b89 }&quot;);\n\n[MATERIALCONFIG]\n#if (BLEND_MODE == BLEND_MODE_OPAQUE)\n    RenderDataCategory = LitOpaque\n#elif (BLEND_MODE == BLEND_MODE_MASKED)\n    RenderDataCategory = LitMasked\n#else\n    RenderDataCategory = LitTransparent\n#endif\n\n[PIXELSHADER]\n\nTexture2D BaseTexture;\nSamplerState BaseTexture_AutoSampler;\n\nfloat4 main(VS_OUT a) : SV_Target\n{\n  float4 color = BaseTexture.Sample(BaseTexture_AutoSampler, ...).rgba;\n  return color * GetMaterialData(BaseColor).rgba;\n}\n</code></pre>\n<h4 id=\"materialconstants\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"124\">MATERIALCONSTANTS</h4>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"126\">This sections defines per-material constants.</p>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"128\">The material constants are what eventually maps to constant buffer or structured buffer in the engine, depending on the renderer feature set. These can be changed at runtime for each material and also exposed to the editor.</p>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"130\">These need to be constant macros defined in <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"130\">Data/Base/Shaders/Common/ConstantBufferMacros.h</code>, e.g. <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"130\">FLOAT1(ConstantName);</code>. Only these macros are supported:</p>\n<ul sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"132\">\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"132\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"132\">FLOAT1</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"132\">FLOAT2</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"132\">FLOAT3</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"132\">FLOAT4</code>: Maps to HLSL <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"132\">float</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"132\">float2</code> etc.</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"133\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"133\">INT1</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"133\">INT2</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"133\">INT3</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"133\">INT4</code>: Maps to HLSL <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"133\">int</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"133\">int2</code> etc.</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"134\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"134\">UINT1</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"134\">UINT2</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"134\">UINT3</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"134\">UINT4</code>: Maps to HLSL <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"134\">uint</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"134\">uint2</code> etc.</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"135\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"135\">MAT3</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"135\">MAT4</code>: Maps to HLSL <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"135\">float3x3</code> and <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"135\">float4x4</code>.</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"136\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"136\">TRANSFORM</code>: Note, that there is no HLSL type for this, instead this maps to a struct with three rows <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"136\">r0</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"136\">r1</code> and <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"136\">r2</code>.</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"137\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"137\">COLOR4F</code>: Note, that there is no color type in HLSL, so this maps to <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"137\">float4</code> instead.</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"138\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"138\">BOOL1</code>: Note, that the HLSL <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"138\">bool</code> is always 4 bytes wide. Consider using flags inside an <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"138\">UINT1</code> instead to safe space if you have multiple bool variables in your constants.</li>\n</ul>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"140\">To access these in the shader, use the macro <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"140\">GetMaterialData(ConstantName)</code> to access the constant's value.</p>\n<h4 id=\"materialparameter\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"142\">MATERIALPARAMETER</h4>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"144\">This section defines which parameters to expose on a material in the editor.</p>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"146\">There are three categories:</p>\n<ul sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"148\">\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"148\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"148\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"148\">Permutation variables</strong>: Add the name of a permutation variable to expose it in the editor. This is explained in detail in <a href=\"~/pages/docs/graphics/shaders/shader-permutation-variables.md#exposing-permutations-to-materials\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"148\">exposing permutation variables to materials</a>.</p>\n</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"150\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"150\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"150\">Material constants</strong>: To expose, these need to match exactly the name that was used in the <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"150\">MATERIALCONSTANTS</code> section described above. Note that the type changes from the macro name to the HLSL name, e.g. <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"150\">FLOAT1(MaskThreshold);</code> becomes <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"150\">float MaskThreshold @Default(0.25);</code>.</p>\n</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"152\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"152\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"152\">Textures</strong>: Both <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"152\">Texture2D</code> and <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"152\">TextureCube</code> are supported. Use the same syntax as you would for declaring a texture in HLSL.</p>\n</li>\n</ul>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"154\">Parameters can have attributes that define default value and other meta data for the editor:</p>\n<ul sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"156\">\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"156\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"156\">@Default(&lt;VALUE_TYPE&gt;)</code>: Can be used on constants and textures to define the default value.</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"157\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"157\">@Clamp(0.0, 1.0)</code>: Usable on float and int parameters, this can be used to clamp the value the user can set in the editor to a fixed range.</li>\n</ul>\n<h4 id=\"materialconfig\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"159\">MATERIALCONFIG</h4>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"161\">The MATERIALCONFIG section controls when a material is rendered during a frame by assigning a <em sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"161\">RenderDataCategory</em>. This category determines which render passes process the material, the sorting order of objects using this material, and how the material integrates into the rendering pipeline.</p>\n<h5 id=\"understanding-renderdatacategory\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"163\">Understanding RenderDataCategory</h5>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"165\">During rendering, components extract render data and tag it with a specific category. Render passes then process only the categories they need in a specific order. For example, opaque geometry (LitOpaque category) is rendered before transparent geometry (LitTransparent category), and objects within each category are sorted differently: opaque geometry front-to-back for depth rejection optimization, transparent geometry back-to-front for correct alpha blending.</p>\n<h5 id=\"default-category-assignment\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"167\">Default Category Assignment</h5>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"169\">Most materials use the default category assignment provided by <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"169\">MaterialConfig.h</code>. Include it in your MATERIALCONFIG section to automatically map BLEND_MODE permutation values to appropriate categories:</p>\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"171\">[MATERIALCONFIG]\n#include &lt;Shaders/Materials/MaterialConfig.h&gt;\n</code></pre>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"176\">This automatically assigns categories based on BLEND_MODE:</p>\n<ul sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"178\">\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"178\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"178\">BLEND_MODE_OPAQUE</code> → <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"178\">LitOpaque</code></li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"179\"><code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"179\">BLEND_MODE_MASKED</code> or <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"179\">BLEND_MODE_DITHERED</code> → <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"179\">LitMasked</code></li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"180\">All others (TRANSPARENT, ADDITIVE, MODULATE) → <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"180\">LitTransparent</code></li>\n</ul>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"182\">You can override this by explicitly setting the category:</p>\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"184\">[MATERIALCONFIG]\nRenderDataCategory = SimpleForeground\n</code></pre>\n<h5 id=\"available-render-data-categories\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"189\">Available Render Data Categories</h5>\n<h6 id=\"lit-categories-full-pbr-lighting\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"191\">Lit Categories (Full PBR Lighting)</h6>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"193\">These categories render with complete lighting calculations including direct lights, shadows, and image-based lighting.</p>\n<ul sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"195\">\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"195\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"195\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"195\">LitOpaque</strong> - Use for solid, opaque materials. Renders in the depth pre-pass (optional) and opaque forward pass. Sorted front-to-back for optimal depth rejection. Automatically resolves to LitOpaqueStatic or LitOpaqueDynamic based on whether the object is static or moves.</p>\n</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"197\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"197\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"197\">LitMasked</strong> - Use for materials with binary alpha cutout like foliage, chain-link fences, or grates. Similar to LitOpaque but uses alpha testing to discard pixels. Writes to the depth buffer. Renders in depth pre-pass and opaque forward pass. Resolves to LitMaskedStatic or LitMaskedDynamic.</p>\n</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"199\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"199\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"199\">LitTransparent</strong> - Use for alpha-blended transparent materials like glass, water, or particles. Renders in the transparent forward pass after opaque geometry. Sorted back-to-front for correct blending. Does not write to the depth buffer. Reads lighting information.</p>\n</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"201\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"201\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"201\">LitForeground</strong> - Use for transparent materials that should render after other transparent objects. Renders after the LitTransparent pass. Useful for effects that need to appear in front of regular transparent geometry.</p>\n</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"203\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"203\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"203\">LitScreenFX</strong> - Use for screen-space effects with lighting. Renders in the transparent forward pass with special handling for screen-aligned effects.</p>\n</li>\n</ul>\n<h6 id=\"simple-categories-unlit-rendering\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"205\">Simple Categories (Unlit Rendering)</h6>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"207\">These categories use unlit rendering without lighting calculations. Useful for debug visualization, editor tools, and effects that should not be affected by scene lighting and tonemapping.</p>\n<ul sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"209\">\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"209\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"209\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"209\">SimpleOpaque</strong> - Use for unlit opaque geometry like debug visualizations or editor gizmos. Renders after lit passes. No lighting calculations. Sorted front-to-back.</p>\n</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"211\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"211\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"211\">SimpleTransparent</strong> - Use for unlit transparent geometry. Renders after SimpleOpaque. Sorted back-to-front. No lighting calculations.</p>\n</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"213\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"213\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"213\">SimpleForeground</strong> - Use for debug overlays and UI elements in 3D space. Renders last among simple categories to ensure debug visualization appears on top of other geometry.</p>\n</li>\n</ul>\n<h6 id=\"special-categories\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"215\">Special Categories</h6>\n<ul sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"217\">\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"217\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"217\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"217\">Sky</strong> - Use for skybox and sky dome materials. Renders after the opaque forward pass to fill the scene background.</p>\n</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"219\"><p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"219\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"219\">GUI</strong> - Use for UI rendering. Special category with specific handling for GUI elements.</p>\n</li>\n</ul>\n<h5 id=\"static-vs-dynamic-redirection\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"221\">Static vs Dynamic Redirection</h5>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"223\">LitOpaque and LitMasked are &quot;redirected categories&quot; that are automatically redirected to Static or Dynamic variants at runtime:</p>\n<ul sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"225\">\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"225\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"225\">LitOpaque</strong> resolves to <strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"225\">LitOpaqueStatic</strong> or <strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"225\">LitOpaqueDynamic</strong></li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"226\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"226\">LitMasked</strong> resolves to <strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"226\">LitMaskedStatic</strong> or <strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"226\">LitMaskedDynamic</strong></li>\n</ul>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"228\">This redirection happens during render data extraction based on object flags (whether the object is marked as static or dynamic). The rendering pipeline can then render static geometry separately from dynamic geometry, enabling use cases like screen space velocities for dynamic objects etc.</p>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"230\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"230\">Important:</strong> Shader authors should use LitOpaque and LitMasked in the MATERIALCONFIG section, not the Static/Dynamic variants directly. The engine handles the redirection automatically.</p>\n<h5 id=\"rendering-pipeline-order\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"232\">Rendering Pipeline Order</h5>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"234\">Materials are rendered in this order during a frame:</p>\n<ol sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"236\">\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"236\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"236\">Depth Pre-Pass</strong> (optional): LitOpaqueStatic, LitOpaqueDynamic, LitMaskedStatic, LitMaskedDynamic - Renders depth-only for early-z rejection optimization</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"237\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"237\">Opaque Forward</strong>: LitOpaqueStatic, LitOpaqueDynamic, LitMaskedStatic, LitMaskedDynamic - Renders opaque geometry with full lighting</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"238\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"238\">Sky Rendering</strong>: Sky - Renders the background skybox or sky dome</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"239\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"239\">Transparent Forward</strong>: LitTransparent, LitForeground, LitScreenFX - Renders transparent geometry with lighting</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"240\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"240\">Simple Rendering</strong>: SimpleOpaque, SimpleTransparent, SimpleForeground - Renders unlit geometry and debug visualization</li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"241\"><strong sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"241\">GUI</strong>: GUI - Renders UI</li>\n</ol>\n<h3 id=\"renderstate\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"243\">RENDERSTATE</h3>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"245\">Each shader defines the complete state of the renderer. This includes, but is not limited to blending, rasterizer, depth stencil etc. You can use permutation variables and preprocessor macros to change the render state of shader permutations.\nThis is explained in more detail on the <a href=\"~/pages/docs/graphics/shaders/shader-render-state.md\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"246\">shader render state</a> page.</p>\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"248\">[RENDERSTATE]\n#if WIREFRAME == 1\n  WireFrame = true\n#endif\n</code></pre>\n<h3 id=\"shader\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"255\">SHADER</h3>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"257\">The <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"257\">SHADER</code> section contains code that is shared among all shader stages. The content is simply prepended to all used stages before compiling.</p>\n<h3 id=\"shader-stages\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"259\">SHADER stages</h3>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"261\">Each shader stage has its own section. The following stages are supported: <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"261\">VERTEXSHADER</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"261\">HULLSHADER</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"261\">DOMAINSHADER</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"261\">GEOMETRYSHADER</code>, <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"261\">PIXELSHADER</code> and <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"261\">COMPUTESHADER</code>. Even if you define a shader section, you can use the preprocessor to remove its content via permutation variables, allowing you to remove stages from certain permutations.</p>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"263\">The entry point into each stage must be called <code sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"263\">main</code>. The shader code supports preprocessor macros that are defined by <a href=\"~/pages/docs/graphics/shaders/shader-permutation-variables.md\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"263\">permutation variables</a> as well as include directives.\nBeyond that, any HLSL code is fine as long as it compiles on the <a href=\"#platforms\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"264\">platforms</a> the shader defines. However, when defining resources, special care must be taken to ensure no conflicting resource mappings are created between the stages. Please refer to the <a href=\"~/pages/docs/graphics/shaders/shader-resources.md\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"264\">shader resource</a> page for further details and on how to facilitate interop with the C++ code.</p>\n<h3 id=\"template_vars\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"266\">TEMPLATE_VARS</h3>\n<p sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"268\">This section is only used when <a href=\"~/pages/docs/graphics/shaders/shader-templates.md#adding-a-shader-template\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"268\">creating a shader template</a>.</p>\n<h2 id=\"see-also\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"270\">See Also</h2>\n<ul sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"272\">\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"272\"><a href=\"~/pages/docs/graphics/shaders/shader-templates.md\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"272\">Shader Templates</a></li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"273\"><a href=\"~/pages/docs/graphics/shaders/shader-render-state.md\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"273\">Shader Render State</a></li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"274\"><a href=\"~/pages/docs/graphics/shaders/shader-permutation-variables.md\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"274\">Shader Permutation Variables</a></li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"275\"><a href=\"~/pages/docs/graphics/shaders/shader-resources.md\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"275\">Shader Resources</a></li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"276\"><a href=\"~/pages/docs/tools/shadercompiler.md\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"276\">ShaderCompiler</a></li>\n<li sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"277\"><a href=\"~/pages/docs/graphics/render-pipeline/render-pipeline-overview.md\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"277\">Render Pipeline</a></li>\n</ul>\n",
  "type": "Conceptual",
  "source": {
    "remote": {
      "path": "pages/docs/graphics/shaders/shaders-overview.md",
      "branch": "main",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0,
    "endLine": 0
  },
  "path": "pages/docs/graphics/shaders/shaders-overview.md",
  "documentation": {
    "remote": {
      "path": "pages/docs/graphics/shaders/shaders-overview.md",
      "branch": "main",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0,
    "endLine": 0
  },
  "_appFaviconPath": "assets/images/favicon.svg",
  "_appFooter": "Hello",
  "_appLogoPath": "assets/images/EZ-text.svg",
  "_appName": "ezEngine",
  "_appTitle": "ezEngine",
  "_enableGoogleAnalytics": true,
  "_enableNewTab": true,
  "_enableSearch": true,
  "_gitContribute": {
    "repo": "https://github.com/ezEngine/docs-src",
    "branch": "main"
  },
  "_systemKeys": [
    "conceptual",
    "type",
    "source",
    "path",
    "documentation",
    "title",
    "rawTitle",
    "wordCount"
  ],
  "rawTitle": "<h1 id=\"shaders\" sourcefile=\"pages/docs/graphics/shaders/shaders-overview.md\" sourcestartlinenumber=\"1\">Shaders</h1>",
  "title": "Shaders",
  "wordCount": 1678,
  "_key": "pages/docs/graphics/shaders/shaders-overview.md",
  "_navKey": "~/toc.yml",
  "_navPath": "toc.html",
  "_navRel": "../../../../toc.html",
  "_path": "pages/docs/graphics/shaders/shaders-overview.html",
  "_rel": "../../../../",
  "_tocKey": "~/pages/docs/toc.md",
  "_tocPath": "pages/docs/toc.html",
  "_tocRel": "../../toc.html",
  "__global": {
    "namespacesInSubtitle": "Namespaces",
    "classesInSubtitle": "Classes",
    "structsInSubtitle": "Structs",
    "interfacesInSubtitle": "Interfaces",
    "enumsInSubtitle": "Enums",
    "delegatesInSubtitle": "Delegates",
    "constructorsInSubtitle": "Constructors",
    "fieldsInSubtitle": "Fields",
    "propertiesInSubtitle": "Properties",
    "methodsInSubtitle": "Methods",
    "eventsInSubtitle": "Events",
    "operatorsInSubtitle": "Operators",
    "eiisInSubtitle": "Explicit Interface Implementations",
    "functionsInSubtitle": "Functions",
    "variablesInSubtitle": "Variables",
    "typeAliasesInSubtitle": "Type Aliases",
    "membersInSubtitle": "Members",
    "improveThisDoc": "Edit this page",
    "viewSource": "View Source",
    "inheritance": "Inheritance",
    "derived": "Derived",
    "inheritedMembers": "Inherited Members",
    "package": "Package",
    "namespace": "Namespace",
    "assembly": "Assembly",
    "syntax": "Syntax",
    "overrides": "Overrides",
    "implements": "Implements",
    "remarks": "Remarks",
    "examples": "Examples",
    "seealso": "See Also",
    "declaration": "Declaration",
    "parameters": "Parameters",
    "typeParameters": "Type Parameters",
    "type": "Type",
    "name": "Name",
    "description": "Description",
    "returns": "Returns",
    "fieldValue": "Field Value",
    "propertyValue": "Property Value",
    "eventType": "Event Type",
    "variableValue": "Variable Value",
    "typeAliasType": "Type Alias Type",
    "exceptions": "Exceptions",
    "condition": "Condition",
    "extensionMethods": "Extension Methods",
    "note": "Note",
    "warning": "Warning",
    "tip": "Tip",
    "important": "Important",
    "caution": "Caution",
    "tocToggleButton": "Show / Hide Table of Contents",
    "tocFilter": "Filter by title",
    "search": "Search",
    "searchResults": "Search Results for",
    "searchResultsCount": "{count} results for \"{query}\"",
    "searchNoResults": "No results for \"{query}\"",
    "pageFirst": "First",
    "pagePrev": "Previous",
    "pageNext": "Next",
    "pageLast": "Last",
    "inThisArticle": "In this article",
    "nextArticle": "Next",
    "prevArticle": "Previous",
    "backToTop": "Back to top",
    "themeLight": "Light",
    "themeDark": "Dark",
    "themeAuto": "Auto",
    "changeTheme": "Change theme",
    "copy": "Copy",
    "downloadPdf": "Download PDF",
    "_shared": {}
  },
  "_disableToc": false,
  "docurl": "https://github.com/ezEngine/docs-src/blob/main/pages/docs/graphics/shaders/shaders-overview.md/#L1"
}