{
  "conceptual": "\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"3\">Profiling an application means to record information about its performance to analyse where time is wasted and figure out how to make things faster.</p>\n<h2 id=\"capturing-profiling-data\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"5\">Capturing Profiling Data</h2>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"7\">ezEngine has a built in profiling system with which you can record the function call graph, across all active threads, with precise timing information. The profiling system is very efficient, which is why in development builds it is constantly recording data to a ring buffer, which allows you to write recent profiling data to disk at any time. That means whenever you encounter a situation with bad performance, you can just press a button (in stock <a href=\"~/pages/docs/runtime/application/application.md\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"7\">applications (TODO)</a> such as <a href=\"~/pages/docs/tools/player.md\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"7\">ezPlayer</a> it's the <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"7\">F8</code> key) to save a snapshot.</p>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"9\">The application will write to the <a href=\"~/pages/docs/debugging/logging.md\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"9\">log</a> where it stored the profiling snapshot. You can see this in the <a href=\"~/pages/docs/debugging/console.md\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"9\">console</a>:</p>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"11\"><img src=\"~/pages/docs/performance/media/save-profiling.png\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"11\" alt=\"Profiling Location\"></p>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"13\">You can reach this folder easier by typing <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"13\">%appdata%</code> into the address bar of Windows Explorer.</p>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"15\">You can also store a capture yourself through <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"15\">ezProfilingSystem::Capture()</code>.</p>\n<h2 id=\"investigating-a-profiling-snapshot\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"17\">Investigating a Profiling Snapshot</h2>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"19\">The profiling data is stored as a JSON file in <a href=\"https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/preview\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"19\">Chrome Tracing Format</a>. To inspect the file, you need to have <a href=\"https://www.google.com/chrome/\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"19\">Google Chrome</a> installed.</p>\n<ol sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"21\">\n<li sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"21\">Type <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"21\">chrome://tracing</code> into the address bar</li>\n<li sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"22\">Click <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"22\">Load</code> and select the profiling data file</li>\n</ol>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"24\">You should now see something like this:</p>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"26\"><img src=\"~/pages/docs/performance/media/tracing-vis.png\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"26\" alt=\"Tracing Visualization\"></p>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"28\">Each block represents a profiling scope (typically a function call). Blocks below other blocks represent nested scopes. When you select a block, Chrome displays the time it took. You can scroll and zoom the view.</p>\n<blockquote sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"30\">\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"30\"><strong sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"30\">Important:</strong></p>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"32\">The <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"32\">chrome://tracing</code> view has a very particular method for navigation. Apart from the obvious modes that you can select with the mouse, the default way is actually to use the WSAD keys. <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"32\">W</code> and <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"32\">S</code> are used to zoom in and out. <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"32\">A</code> and <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"32\">D</code> are used to scroll left and right. Use the mouse wheel to scroll up and down. If you manage to get used to this, it is much more convenient than the other methods.</p>\n</blockquote>\n<h2 id=\"profiling-custom-code\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"34\">Profiling Custom Code</h2>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"36\">If you have custom C++ code that you want to profile in more detail, all you need to do is to insert profiling macros into each scope that you want to profile:</p>\n<pre><code class=\"lang-cpp\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"38\">void MyFunc()\n{\n    EZ_PROFILE_SCOPE(MyFuncScope);\n\n    // ... do stuff ...\n}\n</code></pre>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"47\">This introduces a <em sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"47\">profiling scope</em>, here with the display name 'MyFuncScope'. The time it takes to reach the end of the scope, starting at the macro, will be timed and recorded.</p>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"49\">If your scope makes rendering calls for which you want to record the GPU timings, use <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"49\">EZ_PROFILE_AND_MARKER</code>.</p>\n<blockquote sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"51\">\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"51\"><strong sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"51\">Important:</strong></p>\n<p sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"53\">Many profiling scopes end up taking only very little time. Inspecting those is rarely useful, but each recorded entry takes up valuable space in the ring buffer of the profiling system. Therefore the profiling system automatically discards information about scopes that fall below some threshold. That means your custom scope may not show up in the output. If you do want to see even very short scopes, you can adjust the threshold either through <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"53\">ezProfilingSystem::SetDiscardThreshold()</code> or through the <a href=\"~/pages/docs/debugging/cvars.md\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"53\">CVar</a> <code sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"53\">g_ProfilingDiscardThresholdMs</code>.</p>\n</blockquote>\n<h2 id=\"see-also\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"55\">See Also</h2>\n<ul sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"58\">\n<li sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"58\"><a href=\"~/pages/docs/debugging/debug-cpp.md\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"58\">Debugging C++ Code</a></li>\n<li sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"59\"><a href=\"~/pages/docs/tools/inspector.md\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"59\">ezInspector</a></li>\n<li sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"60\"><a href=\"https://aras-p.info/blog/2017/01/23/Chrome-Tracing-as-Profiler-Frontend\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"60\">Chrome Tracing as Profiler Frontend</a></li>\n</ul>\n",
  "type": "Conceptual",
  "source": {
    "remote": {
      "path": "pages/docs/performance/profiling.md",
      "branch": "docfx_update",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0.0,
    "endLine": 0.0
  },
  "path": "pages/docs/performance/profiling.md",
  "documentation": {
    "remote": {
      "path": "pages/docs/performance/profiling.md",
      "branch": "docfx_update",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0.0,
    "endLine": 0.0
  },
  "_appFaviconPath": "assets/images/favicon.svg",
  "_appFooter": "Hello",
  "_appLogoPath": "assets/images/EZ-text.svg",
  "_appName": "ezEngine",
  "_appTitle": "ezEngine",
  "_enableGoogleAnalytics": true,
  "_enableNewTab": true,
  "_enableSearch": true,
  "_gitContribute": {
    "repo": "https://github.com/ezEngine/docs-src",
    "branch": "main"
  },
  "_systemKeys": [
    "conceptual",
    "type",
    "source",
    "path",
    "documentation",
    "title",
    "rawTitle",
    "wordCount"
  ],
  "rawTitle": "<h1 id=\"profiling\" sourcefile=\"pages/docs/performance/profiling.md\" sourcestartlinenumber=\"1\">Profiling</h1>",
  "title": "Profiling",
  "wordCount": 507.0,
  "_key": "pages/docs/performance/profiling.md",
  "_navKey": "~/toc.yml",
  "_navPath": "toc.html",
  "_navRel": "../../../toc.html",
  "_path": "pages/docs/performance/profiling.html",
  "_rel": "../../../",
  "_tocKey": "~/pages/docs/toc.md",
  "_tocPath": "pages/docs/toc.html",
  "_tocRel": "../toc.html",
  "__global": {
    "namespacesInSubtitle": "Namespaces",
    "classesInSubtitle": "Classes",
    "structsInSubtitle": "Structs",
    "interfacesInSubtitle": "Interfaces",
    "enumsInSubtitle": "Enums",
    "delegatesInSubtitle": "Delegates",
    "constructorsInSubtitle": "Constructors",
    "fieldsInSubtitle": "Fields",
    "propertiesInSubtitle": "Properties",
    "methodsInSubtitle": "Methods",
    "eventsInSubtitle": "Events",
    "operatorsInSubtitle": "Operators",
    "eiisInSubtitle": "Explicit Interface Implementations",
    "functionsInSubtitle": "Functions",
    "variablesInSubtitle": "Variables",
    "typeAliasesInSubtitle": "Type Aliases",
    "membersInSubtitle": "Members",
    "improveThisDoc": "Edit this page",
    "viewSource": "View Source",
    "inheritance": "Inheritance",
    "derived": "Derived",
    "inheritedMembers": "Inherited Members",
    "package": "Package",
    "namespace": "Namespace",
    "assembly": "Assembly",
    "syntax": "Syntax",
    "overrides": "Overrides",
    "implements": "Implements",
    "remarks": "Remarks",
    "examples": "Examples",
    "seealso": "See Also",
    "declaration": "Declaration",
    "parameters": "Parameters",
    "typeParameters": "Type Parameters",
    "type": "Type",
    "name": "Name",
    "description": "Description",
    "returns": "Returns",
    "fieldValue": "Field Value",
    "propertyValue": "Property Value",
    "eventType": "Event Type",
    "variableValue": "Variable Value",
    "typeAliasType": "Type Alias Type",
    "exceptions": "Exceptions",
    "condition": "Condition",
    "extensionMethods": "Extension Methods",
    "note": "Note",
    "warning": "Warning",
    "tip": "Tip",
    "important": "Important",
    "caution": "Caution",
    "tocToggleButton": "Show / Hide Table of Contents",
    "tocFilter": "Filter by title",
    "search": "Search",
    "searchResults": "Search Results for",
    "searchResultsCount": "{count} results for \"{query}\"",
    "searchNoResults": "No results for \"{query}\"",
    "pageFirst": "First",
    "pagePrev": "Previous",
    "pageNext": "Next",
    "pageLast": "Last",
    "inThisArticle": "In this article",
    "nextArticle": "Next",
    "prevArticle": "Previous",
    "backToTop": "Back to top",
    "themeLight": "Light",
    "themeDark": "Dark",
    "themeAuto": "Auto",
    "changeTheme": "Change theme",
    "copy": "Copy",
    "downloadPdf": "Download PDF",
    "_shared": {}
  },
  "_disableToc": false,
  "docurl": "https://github.com/ezEngine/docs-src/blob/main/pages/docs/performance/profiling.md/#L1"
}