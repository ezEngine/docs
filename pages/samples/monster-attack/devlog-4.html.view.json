{
  "conceptual": "\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"3\">Today I added a simple trap that just slows down monsters when they walk over it.</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"5\"><video src=\"~/pages/samples/monster-attack/media/devlog4/SlowDown.mp4\" width=600 controls></video></p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"7\">As always, there are many ways how one can implement this. I chose to simply do a raycast at the monster position downwards and find the physics object beneath their feet. From there I could use the <a href=\"~/pages/docs/materials/surfaces.md\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"7\">surface</a> to determine whether to slow down the monster.</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"9\">That means that my trap needs to actually contain a <a href=\"~/pages/docs/physics/jolt/collision-shapes/jolt-collision-meshes.md\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"9\">physical collider</a> object, so that the raycast can hit anything. Therefore my trap now looks like this:</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"11\"><img src=\"~/pages/samples/monster-attack/media/devlog4/TarTrap.png\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"11\" alt=\"Tar Trap\"></p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"13\">Here I use a <a href=\"~/pages/docs/physics/jolt/actors/jolt-queryshape-actor-component.md\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"13\">query shape actor</a> rather than a static actor, because I only want raycasts to be able to hit this collider, I do not want any other objects (like my player's character controller) to collide with it.</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"15\">But that also means that when I do my raycast, I need to make sure to include <em sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"15\">Query objects</em>:</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"17\"><img src=\"~/pages/samples/monster-attack/media/devlog4/ma-dl4-image1.png\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"17\" alt=\"Query Objects Flag\"></p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"19\">Now this kinda worked, but I ran into the problem that the raycast would often not hit the ground, but the monster itself.</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"21\">To show the problem, in the video above I enabled the skeleton collider visualization for the blue monsters. Those are the animated shapes that are used for shooting the monsters. My raycast would sometimes hit that and then not detect the correct ground type.</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"23\">I had to set up proper <a href=\"~/pages/docs/physics/jolt/collision-shapes/jolt-collision-layers.md\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"23\">collision layers</a> and assign the right ones to the monster shapes, the ground shapes, and the raycast.</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"25\">Unfortunately this isn't fun, because there is a limit of 32 layers and you have to be very careful how to set them up, because their number can quickly grow.</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"27\">For now my setup looks like this:</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"29\"><img src=\"~/pages/samples/monster-attack/media/devlog4/CollisionGroups.png\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"29\" alt=\"Query Objects Flag\"></p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"31\">For debugging purposes, I wanted to see when exactly the monsters are slowed down, so I used the <code sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"31\">ezMsgSetColor</code> to just dim the monsters mesh color when slowed:</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"33\"><img src=\"~/pages/samples/monster-attack/media/devlog4/ma-dl4-image2.png\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"33\" alt=\"Set Color Msg\"></p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"35\">Finally, I exposed the health and walk speed as properties, so that I could configure my two monster types slightly differently.</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"37\">In C++ this macro block is used to declare which variables are configurable:</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"39\"><img src=\"~/pages/samples/monster-attack/media/devlog4/ma-dl4-image3.png\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"39\" alt=\"Component properties\"></p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"41\">And then these show up in the editor:</p>\n<p sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"43\"><img src=\"~/pages/samples/monster-attack/media/devlog4/ma-dl4-image4.png\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"43\" alt=\"Property UI\"></p>\n<h2 id=\"see-also\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"45\">See Also</h2>\n<ul sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"47\">\n<li sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"47\"><a href=\"~/pages/samples/monster-attack/monster-attack.md\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"47\">Monster Attack Sample</a></li>\n</ul>\n",
  "type": "Conceptual",
  "source": {
    "remote": {
      "path": "pages/samples/monster-attack/devlog-4.md",
      "branch": "main",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0,
    "endLine": 0
  },
  "path": "pages/samples/monster-attack/devlog-4.md",
  "documentation": {
    "remote": {
      "path": "pages/samples/monster-attack/devlog-4.md",
      "branch": "main",
      "repo": "https://github.com/ezEngine/docs-src"
    },
    "startLine": 0,
    "endLine": 0
  },
  "_appFaviconPath": "assets/images/favicon.svg",
  "_appFooter": "Hello",
  "_appLogoPath": "assets/images/EZ-text.svg",
  "_appName": "ezEngine",
  "_appTitle": "ezEngine",
  "_enableGoogleAnalytics": true,
  "_enableNewTab": true,
  "_enableSearch": true,
  "_gitContribute": {
    "repo": "https://github.com/ezEngine/docs-src",
    "branch": "main"
  },
  "_systemKeys": [
    "conceptual",
    "type",
    "source",
    "path",
    "documentation",
    "title",
    "rawTitle",
    "wordCount"
  ],
  "rawTitle": "<h1 id=\"ma-devlog-4---tar-trap\" sourcefile=\"pages/samples/monster-attack/devlog-4.md\" sourcestartlinenumber=\"1\">MA Devlog 4 - Tar Trap</h1>",
  "title": "MA Devlog 4 - Tar Trap",
  "wordCount": 350,
  "_key": "pages/samples/monster-attack/devlog-4.md",
  "_navKey": "~/toc.yml",
  "_navPath": "toc.html",
  "_navRel": "../../../toc.html",
  "_path": "pages/samples/monster-attack/devlog-4.html",
  "_rel": "../../../",
  "_tocKey": "~/pages/samples/toc.md",
  "_tocPath": "pages/samples/toc.html",
  "_tocRel": "../toc.html",
  "__global": {
    "namespacesInSubtitle": "Namespaces",
    "classesInSubtitle": "Classes",
    "structsInSubtitle": "Structs",
    "interfacesInSubtitle": "Interfaces",
    "enumsInSubtitle": "Enums",
    "delegatesInSubtitle": "Delegates",
    "constructorsInSubtitle": "Constructors",
    "fieldsInSubtitle": "Fields",
    "propertiesInSubtitle": "Properties",
    "methodsInSubtitle": "Methods",
    "eventsInSubtitle": "Events",
    "operatorsInSubtitle": "Operators",
    "eiisInSubtitle": "Explicit Interface Implementations",
    "functionsInSubtitle": "Functions",
    "variablesInSubtitle": "Variables",
    "typeAliasesInSubtitle": "Type Aliases",
    "membersInSubtitle": "Members",
    "improveThisDoc": "Edit this page",
    "viewSource": "View Source",
    "inheritance": "Inheritance",
    "derived": "Derived",
    "inheritedMembers": "Inherited Members",
    "package": "Package",
    "namespace": "Namespace",
    "assembly": "Assembly",
    "syntax": "Syntax",
    "overrides": "Overrides",
    "implements": "Implements",
    "remarks": "Remarks",
    "examples": "Examples",
    "seealso": "See Also",
    "declaration": "Declaration",
    "parameters": "Parameters",
    "typeParameters": "Type Parameters",
    "type": "Type",
    "name": "Name",
    "description": "Description",
    "returns": "Returns",
    "fieldValue": "Field Value",
    "propertyValue": "Property Value",
    "eventType": "Event Type",
    "variableValue": "Variable Value",
    "typeAliasType": "Type Alias Type",
    "exceptions": "Exceptions",
    "condition": "Condition",
    "extensionMethods": "Extension Methods",
    "note": "Note",
    "warning": "Warning",
    "tip": "Tip",
    "important": "Important",
    "caution": "Caution",
    "tocToggleButton": "Show / Hide Table of Contents",
    "tocFilter": "Filter by title",
    "search": "Search",
    "searchResults": "Search Results for",
    "searchResultsCount": "{count} results for \"{query}\"",
    "searchNoResults": "No results for \"{query}\"",
    "pageFirst": "First",
    "pagePrev": "Previous",
    "pageNext": "Next",
    "pageLast": "Last",
    "inThisArticle": "In this article",
    "nextArticle": "Next",
    "prevArticle": "Previous",
    "backToTop": "Back to top",
    "themeLight": "Light",
    "themeDark": "Dark",
    "themeAuto": "Auto",
    "changeTheme": "Change theme",
    "copy": "Copy",
    "downloadPdf": "Download PDF",
    "_shared": {}
  },
  "_disableToc": false,
  "docurl": "https://github.com/ezEngine/docs-src/blob/main/pages/samples/monster-attack/devlog-4.md/#L1"
}